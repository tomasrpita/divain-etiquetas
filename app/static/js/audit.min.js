"use strict";const iptUbicacion=document.getElementById("iptUbicacion"),iptIdLocation=document.getElementById("iptIdLocation"),iptCodigo=document.getElementById("iptCodigo"),smallCodigo=document.getElementById("smallCodigo"),iptSKU=document.getElementById("iptSKU"),spinnerCodigo=document.getElementById("spinnerCodigo"),divIdReference=document.getElementById("divIdReference"),spinnerUbicacion=document.getElementById("spinnerUbicacion");let confirmUbicacion;iptUbicacion.addEventListener("keyup",({key:e})=>{"Enter"===e&&(iptUbicacion.setAttribute("readonly","true"),getLocation())}),iptCodigo.addEventListener("keyup",({key:e})=>{"Enter"===e&&(iptCodigo.setAttribute("readonly","true"),checkReference())});const getLocation=()=>{spinnerUbicacion.classList.remove("invisible"),getData(`/api/location/${iptUbicacion.value}`).then(({id:e})=>{e?(iptIdLocation.value=e,iptUbicacion.classList.remove("is-invalid"),iptUbicacion.classList.add("is-valid"),smallUbicacion.classList.add("invisible"),iptCodigo.removeAttribute("readonly"),iptCodigo.focus()):(iptUbicacion.classList.add("is-invalid"),smallUbicacion.classList.remove("invisible"),iptUbicacion.removeAttribute("readonly"),iptUbicacion.value="")}).catch(e=>{console.log(e)}).finally(()=>{spinnerUbicacion.classList.add("invisible")})},checkReference=()=>{iptCodigo.value===iptUbicacion.value?(iptCodigo.classList.remove("is-invalid"),iptCodigo.classList.add("is-valid"),smallCodigo.classList.add("invisible"),document.getElementById("formAudit").submit()):getReference()},getReference=()=>{spinnerCodigo.classList.remove("invisible"),getData(`/api/reference/${iptCodigo.value}`).then(({id:e,sku:i})=>{e?(iptSKU.value=i,iptCodigo.classList.remove("is-invalid"),smallCodigo.classList.add("invisible"),appendReferenceId(e),confirmReferenceRead(),iptCodigo.value="",iptCodigo.removeAttribute("readonly")):(iptCodigo.classList.add("is-invalid"),smallCodigo.classList.remove("invisible"),iptCodigo.value="",iptCodigo.removeAttribute("readonly"))}).catch(e=>{console.log(e)}).finally(()=>spinnerCodigo.classList.add("invisible"))},confirmReferenceRead=()=>{const e=document.getElementById("panelmessages"),i=`\n    <div class="alert alert-success alert-dismissible fade show" role="alert">\n        Lectura de referencia <strong>${iptSKU.value}</strong> exitosa!\n        <button type="button" class="close" data-dismiss="alert" aria-label="Cerrar">\n            <span aria-hidden="true">&times;</span>\n        </button>\n    </div>\n    `;e.innerHTML+=i},appendReferenceId=e=>{const i=`\n        <input type='hidden' name='id_reference[]' value='${e}'/>\n        `;divIdReference.innerHTML+=i};